const menuToggle=document.querySelector(".mobile-menu-toggle"),navLinks=document.querySelector(".nav-links");if(menuToggle.addEventListener("click",(()=>{navLinks.classList.toggle("active"),menuToggle.classList.toggle("open")})),window.addEventListener("resize",(()=>{window.innerWidth>768&&(navLinks.classList.remove("active"),menuToggle.classList.remove("open")),updateSingleCardLayout()})),location.pathname.endsWith("index.html")){const e=location.origin+location.pathname.replace(/index\.html$/,"");location.replace(e)}document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href");if("#"===t)return;const r=document.querySelector(t);if(r){e.preventDefault();const t=80,n=r.offsetTop-t;window.scrollTo({top:n,behavior:"smooth"})}}))}));const observerCard=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.style.opacity="0",e.target.style.transform="translateY(20px)",setTimeout((()=>{e.target.style.transition="opacity 0.6s ease, transform 0.6s ease",e.target.style.opacity="1",e.target.style.transform="translateY(0)"}),100),observerCard.unobserve(e.target))}))}),{threshold:.1});document.querySelectorAll(".destination-card, .day-card").forEach((e=>{observerCard.observe(e)}));const observerFilters=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),observerFilters.unobserve(e.target))}))}),{threshold:.1});document.querySelectorAll(".destination-card, .day-card, .filters").forEach((e=>observerFilters.observe(e)));const header=document.querySelector(".header");let lastScroll=0;window.addEventListener("scroll",(()=>{const e=window.pageYOffset;header.style.boxShadow=e>50?"0 2px 8px rgba(0, 0, 0, 0.1)":"0 1px 0 rgba(0, 0, 0, 0.05)",lastScroll=e}));const searchInput=document.getElementById("searchName"),priceRange=document.getElementById("priceRange"),priceValue=document.getElementById("priceValue"),sortOptions=document.getElementById("sortOptions"),grid=document.querySelector(".destinations-grid"),cards=Array.from(document.querySelectorAll(".destination-card"));function applyFilters(){const e=searchInput.value.toLowerCase(),t=parseInt(priceRange.value),r=sortOptions.value;let n=cards.filter((r=>{const n=r.querySelector(".card-title").textContent.toLowerCase(),o=r.querySelector(".card-cost").textContent,a=parseInt(o.split("-")[0].replace("€",""));return n.includes(e)&&a<=t}));n.sort(((e,t)=>{const n=parseInt(e.querySelector(".card-cost").textContent.split("-")[0].replace("€","")),o=parseInt(t.querySelector(".card-cost").textContent.split("-")[0].replace("€","")),a=e.querySelector(".card-title").textContent,s=t.querySelector(".card-title").textContent;return"price-asc"===r?n-o:"price-desc"===r?o-n:"name"===r?a.localeCompare(s):void 0})),grid.innerHTML="",n.forEach((e=>grid.appendChild(e))),updateSingleCardLayout();const o=document.getElementById("noResults");0===n.length?(o.style.opacity="0",o.style.transform="translateY(20px)",o.style.display="block",setTimeout((()=>{o.style.transition="opacity 0.6s ease, transform 0.6s ease",o.style.opacity="1",o.style.transform="translateY(0)"}),50)):(o.style.display="none",o.style.transition="none")}function resetCardAnimations(){document.querySelectorAll(".destination-card").forEach((e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="none",observerCard.observe(e)}))}function updateSingleCardLayout(){const e=Array.from(grid.children);1===e.length&&window.innerWidth>790?(e[0].style.width="50%",e[0].style.margin="0 auto"):e.forEach((e=>{e.style.width="",e.style.margin=""}))}priceValue.textContent=priceRange.value+"€",searchInput.addEventListener("input",applyFilters),priceRange.addEventListener("input",(()=>{priceValue.textContent=priceRange.value+"€",applyFilters()})),sortOptions.addEventListener("change",(()=>{applyFilters(),resetCardAnimations()})),applyFilters();